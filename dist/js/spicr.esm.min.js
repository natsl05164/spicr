// Spicr v1.0.10 | thednp Â© 2021 | MIT-License
const t=/iPhone|iPad|iPod|Android/i;let e=!1;e=navigator.userAgentData?navigator.userAgentData.brands.some(e=>t.test(e.brand)):t.test(navigator.userAgent);const n=e,s="ontouchstart"in window||"msMaxTouchPoints"in navigator,a="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],r=!!(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t,e)}),e)}catch(t){throw Error("Passive events are not supported")}return t})()&&{passive:!0};function o(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}const i={};function c(t,e,n){const s=e.trim().split(/[,|;]/),a={};return s.forEach(e=>{const s=e.split(/[:|=]/),r=s[0],o=s[1],i=/y/i.test(r)||/v/i.test(o)?"offsetHeight":"offsetWidth";n&&/%/.test(o)&&!/z/i.test(r)?a[r]=o:a[r]=/%/.test(o)?parseFloat(o)*t[i]/100:parseFloat(o)}),a}const l={delay:250,duration:500,easing:"easingCubicOut",interval:5e3,touch:!0,pause:"hover"};function u(t){const e=function(t){const e={};return["translate","rotate","scale","transform-origin","opacity","duration","delay","easing"].forEach(n=>{e["transform-origin"===n?"origin":n]=t.getAttribute("data-"+n)}),e}(t),{translate:n,rotate:s,origin:a,opacity:r,easing:o}=e;let{scale:i,duration:u,delay:d}=e;return i=parseFloat(i),u=+u,d=+d,{translate:n?c(t,n):"",rotate:s?c(t,s):"",origin:a?c(t,a,1):"",scale:Number.isNaN(i)?"":i,opacity:"false"!==r?1:0,duration:Number.isNaN(u)?l.duration:u,delay:Number.isNaN(d)?0:d,easing:o||l.easing}}function d(t){return Array.from(t.getElementsByClassName("spicr-layer"))}function f(t,e,n){const s=t[e]||t[0],a=d(s),r=s.classList.contains("active"),o=t[n],c=o&&o.getElementsByClassName("item-bg")[0],l=c?u(c):0;return l?(Object.keys(l).forEach(t=>{/translate|rotate/.test(t)&&l[t]instanceof Object&&Object.keys(l[t]).forEach(e=>{l[t][e]=-l[t][e]})}),a.map(t=>i.layer(t,0,l))):a.map(t=>i.layer(t,r?0:1))}function m(t,e){const c=function(t,e){const n=e&&e instanceof Element?e:document;return t instanceof Element?t:n.querySelector(t)}(t),u=function(t,e,n,s){const a={...t.dataset},r={},i={};return Object.keys(a).forEach(t=>{const e=t.includes(s)?t.replace(s,"").replace(/[A-Z]/,t=>t.toLowerCase()):t;i[e]=o(a[t])}),Object.keys(n).forEach(t=>{n[t]=o(n[t])}),Object.keys(e).forEach(t=>{r[t]=t in n?n[t]:t in i?i[t]:e[t]}),r}(c,l,e||{}),d=this;d.tweens=[];let m=d.tweens,y={},h=a;s&&n&&(h=["touchstart","touchend"]);const g=u.pause,p=u.touch,v=u.interval,x=c.getElementsByClassName("item"),E=c.querySelectorAll("[data-slide]"),T=E.length&&E[0],L=E.length&&E[1],z=c.getElementsByClassName("spicr-pages")[0],b=z&&z.querySelectorAll("[data-slide-to]");let O=null,N=null,A=0,C=0;const X=c.classList.contains("spicr-slider"),w=c.classList.contains("spicr-carousel");function S(){c.classList.contains("paused")||(c.classList.add("paused"),C||(clearInterval(O),O=null))}function $(){c.classList.contains("paused")&&(c.classList.remove("paused"),C||(clearInterval(O),O=null,d.cycle()))}function I(t){if(t.preventDefault(),C)return;const e=t.target,n=e&&e.getAttribute("data-slide-to");e&&!e.classList.contains("active")&&n&&(A=parseInt(n,10),d.slideTo(A))}function j(t){if(t.preventDefault(),C)return;this===L||L.contains(this)?A+=1:(this===T||T.contains(this))&&(A-=1),d.slideTo(A)}function k(t){y.isTouch||(y.startX=t.changedTouches[0].pageX,c.contains(t.target)&&(y.isTouch=!0,B(1)))}function D(t){y.isTouch&&(y.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault())}function _(t){if(y.isTouch&&!C&&(y.endX=y.currentX||t.changedTouches[0].pageX,y.isTouch)){if((!c.contains(t.target)||!c.contains(t.relatedTarget))&&Math.abs(y.startX-y.endX)<75)return;y.currentX<y.startX?A+=1:y.currentX>y.startX&&(A-=1),y.isTouch=!1,d.slideTo(A),B()}}function B(t){const e=t?"addEventListener":"removeEventListener";c[e]("touchmove",D,r),c[e]("touchend",_,r)}function M(t){const e=t?"addEventListener":"removeEventListener";"hover"===g&&v&&(c[e](h[0],S),c[e](h[1],$)),L&&L[e]("click",j),T&&T[e]("click",j),p&&x.length>1&&c[e]("touchstart",k,r),z&&z[e]("click",I)}function P(t){Array.from(b).map(t=>t.classList.remove("active")),t&&t.classList.add("active")}function q(t,e){A=e,x[e].classList.add("next"),C=!0,w&&t>-1&&x[t].offsetHeight!==x[e].offsetHeight&&(c.style.height=getComputedStyle(x[t]).height)}function F(t,e){x[e].classList.add("active"),x[e].classList.remove("next"),x[t]&&x[t].classList.remove("active"),setTimeout(()=>{w&&(c.style.height=""),i.reset(c),C=!1,m=[],v&&!c.classList.contains("paused")&&d.cycle()},0)}this.getActiveIndex=()=>{const t=c.getElementsByClassName("item active")[0];return Array.from(x).indexOf(t)},this.cycle=()=>{clearInterval(O),O=setTimeout(()=>{A+=1,d.slideTo(A)},v)},this.slideTo=t=>{let e=t;const n=this.getActiveIndex();n===e||C||(clearInterval(O),O=setTimeout(()=>{if(n<e||0===n&&e===x.length-1?N=1:(n>e||n===x.length-1&&0===e)&&(N=0),e<0?e=x.length-1:e>=x.length&&(e=0),X){q(n,e);const t=-1!==n?f(x,n,e):f(x,n),s=-1!==n&&f(x,e);-1===n?t.length&&(m=m.concat(t)):(t.length&&(m=m.concat(t)),s.length&&(m=m.concat(s))),m.length?(m.reduce((t,e)=>t._duration+t._delay>e._duration+e._delay?t:e)._onComplete=()=>F(n,e),m.forEach(t=>t.start())):F(n,e),b&&P(b[e])}else if(w){q(n,e);const{delay:t,duration:s,easing:a}=l,r=x[n],o=x[e];m=i.carousel(c,x,n,e,N),m.length?(r&&r.offsetHeight!==o.offsetHeight&&m.push(i.fromTo(c,{height:parseFloat(getComputedStyle(r).height)},{height:parseFloat(getComputedStyle(o).height)},{easing:a,duration:s,delay:Math.max(...m.map(t=>t._delay+t._duration))||t})),m[m.length-1]._onComplete=()=>F(n,e),m.forEach(t=>t.start())):F(n,e),b&&P(b[e])}},1))},this.dispose=()=>{C&&m.forEach(t=>t.stop()),i.reset(c),y={},M(),clearInterval(O),delete c.Spicr},c.Spicr&&c.Spicr.dispose(),M(1),c.Spicr=d,c.getElementsByClassName("item active").length?v&&d.cycle():d.slideTo(0)}if(void 0===window.KUTE)throw Error("Spicr requires KUTE.js ^2.0.10");function y(t){const e=t instanceof Element?t:document;Array.from(e.querySelectorAll('[data-function="spicr"]')).forEach(t=>new m(t))}i.fromTo=window.KUTE.fromTo,i.carousel=function(t,e,n,s,a){const r=[],o=u(t),f={},m={},y={},h={},g=e[n],p=g&&d(g),v=d(e[s]),{translate:x}=o,{rotate:E}=o,{scale:T}=o,L=t.getAttribute("data-transform-origin"),{opacity:z}=o,{easing:b}=o;let O=o.duration||l.duration,N=o.delay||+O/2;if(z&&(f.opacity=1,m.opacity=0,y.opacity=0,h.opacity=1),(T||x||E)&&(f.transform={},m.transform={},y.transform={},h.transform={}),T&&(f.transform.scale=1,m.transform.scale=T,y.transform.scale=T,h.transform.scale=1),x){f.transform.translate3d=[0,0,0];let t=0,e=0,n=0;"x"in x&&(t=a?-x.x:x.x),"y"in x&&(e=a?-x.y:x.y),"Z"in x&&(n=a?-x.z:x.z),m.transform.translate3d=[t,e,n];let s=0,r=0,o=0;"x"in x&&(s=a?x.x:-x.x),"y"in x&&(r=a?x.y:-x.y),"Z"in x&&(o=a?x.z:-x.z),y.transform.translate3d=[s,r,o],h.transform.translate3d=[0,0,0]}if(E){f.transform.rotate3d=[0,0,0];let t=0,e=0,n=0;"x"in E&&(t=a?-E.x:E.x),"y"in E&&(e=a?-E.y:E.y),"Z"in E&&(n=a?-E.z:E.z),m.transform.rotate3d=[t,e,n];let s=0,r=0,o=0;"x"in E&&(s=a?E.x:-E.x),"y"in E&&(r=a?E.y:-E.y),"Z"in E&&(o=a?E.z:-E.z),y.transform.rotate3d=[s,r,o],h.transform.rotate3d=[0,0,0]}a||(p&&p.reverse(),v.reverse()),z||E||x||T||(O=50,N=0);const A={easing:b,duration:O},C=A;return p&&p.forEach((t,e)=>{if(A.delay=l.delay*e,r.push(i.fromTo(t,f,m,A)),L){const e=c(t,L);let n="50%",s="50%";const a="z"in e?` ${e.z}px`:"";"x"in e&&(n=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(s=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=`${n} ${s}${a}`}}),v.forEach((t,e)=>{if(C.delay=(N+50)*e,r.push(i.fromTo(t,y,h,C)),L){const e=c(t,L);let n="50%",s="50%";const a="z"in e?` ${e.z}px`:"";"x"in e&&(n=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(s=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=`${n} ${s}${a}`}}),r},i.layer=function(t,e,n){const s=n||u(t),a=t.classList.contains("item-bg"),r={},o={},{translate:c}=s,{rotate:d}=s,{scale:f}=s,{origin:m}=s;let{opacity:y}=s,{duration:h}=s,{easing:g}=s,p=s.delay||(a?0:l.delay);if(/InOut/.test(g)||n||(g=e?g.replace("In","Out"):g.replace("Out","In")),e||(h=a?h:1.5*h),p=e?p:0,y=!e&&a&&n?0:y,y&&(r.opacity=e?0:1,o.opacity=e?1:0),(f||c||d)&&(r.transform={},o.transform={},m)){let e="50%",n="50%";const s="z"in m?` ${m.z}px`:"";"x"in m&&(e=/%/.test(m.x)?m.x:m.x+"px"),"y"in m&&(n=/%/.test(m.y)?m.y:m.y+"px"),t.style.transformOrigin=`${e} ${n}${s}`}if(f&&(r.transform.scale=e?f:1,o.transform.scale=e?1:f),c){const t=e&&c.x?c.x:0,n=c.x&&!e?c.x:0,s=e&&c.y?c.y:0,a=c.y&&!e?c.y:0,i=e&&c.z?c.z:0,l=c.z&&!e?c.z:0;r.transform.translate3d=[t,s,i],o.transform.translate3d=[n,a,l]}if(d){const t=e&&d.x?d.x:0,n=!e&&d.x?d.x:0,s=e&&d.y?d.y:0,a=!e&&d.y?d.y:0,i=e&&d.z?d.z:0,c=!e&&d.z?d.z:0;r.transform.rotate3d=[t,s,i],o.transform.rotate3d=[n,a,c]}return y||d||c||f||(h=50,p=0),i.fromTo(t,r,o,{easing:g,duration:h,delay:p})},i.reset=function(t){Array.from(t.getElementsByClassName("spicr-layer")).forEach(t=>{t.style.opacity="",t.style.transform="",t.style.transformOrigin=""})},m.initComponent=y,document.body?y():document.addEventListener("DOMContentLoaded",y,{once:!0});Object.assign(m,{Version:"1.0.10"});export default m;
