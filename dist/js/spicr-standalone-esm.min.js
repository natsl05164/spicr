// Spicr v1.0.10 | thednp Â© 2023 | MIT-License
const t={},e=[];let n;n="undefined"!=typeof global?global:"undefined"!=typeof window?window.self:{};const s=n,a={},o={};let i;i="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?()=>{const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):"undefined"!=typeof Date&&Date.now?Date.now:()=>(new Date).getTime();const r=i,c={};c.now=r;let l=0;const u=t=>{let n=0;for(;n<e.length;)e[n].update(t)?n+=1:e.splice(n,1);l=requestAnimationFrame(u)};function f(){setTimeout(()=>{!e.length&&l&&(cancelAnimationFrame(l),l=null,Object.keys(o).forEach(e=>{"function"==typeof o[e]?t[e]&&delete t[e]:Object.keys(o[e]).forEach(e=>{t[e]&&delete t[e]})}),Object.keys(a).forEach(e=>{t[e]&&delete t[e]}))},64)}const d={Tick:l,Ticker:u,Tweens:e,Time:c};Object.keys(d).forEach(e=>{t[e]||(t[e]="Time"===e?c.now:d[e])}),s._KUTE=t;const h={duration:700,delay:0,easing:"linear",repeat:0,repeatDelay:0,yoyo:!1,resetStart:!1,offset:0},g={},p={},m={defaultOptions:h,linkProperty:g,onStart:o,onComplete:p},y={},v={tween:null,processEasing:null},x={linear:t=>t,easingSinusoidalIn:t=>1-Math.cos(t*Math.PI/2),easingSinusoidalOut:t=>Math.sin(t*Math.PI/2),easingSinusoidalInOut:t=>-.5*(Math.cos(Math.PI*t)-1),easingQuadraticIn:t=>t*t,easingQuadraticOut:t=>t*(2-t),easingQuadraticInOut:t=>t<.5?2*t*t:(4-2*t)*t-1,easingCubicIn:t=>t*t*t,easingCubicOut:t=>{const e=t-1;return e*e*e+1},easingCubicInOut:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easingQuarticIn:t=>t*t*t*t,easingQuarticOut:t=>{const e=t-1;return 1-e*e*e*e},easingQuarticInOut:t=>{let e=t;return e<.5?8*e*e*e*e:(e-=1,1-8*e*e*e*e)},easingQuinticIn:t=>t*t*t*t*t,easingQuinticOut:t=>{const e=t-1;return 1+e*e*e*e*e},easingQuinticInOut:t=>{let e=t;return e<.5?16*e*e*e*e*e:(e-=1,1+16*e*e*e*e*e)},easingCircularIn:t=>-(Math.sqrt(1-t*t)-1),easingCircularOut:t=>{const e=t-1;return Math.sqrt(1-e*e)},easingCircularInOut:t=>{let e=2*t;return e<1?-.5*(Math.sqrt(1-e*e)-1):(e-=2,.5*(Math.sqrt(1-e*e)+1))},easingExponentialIn:t=>2**(10*(t-1))-.001,easingExponentialOut:t=>1-2**(-10*t),easingExponentialInOut:t=>{const e=2*t;return e<1?.5*2**(10*(e-1)):.5*(2-2**(-10*(e-1)))},easingBackIn:t=>{const e=1.70158;return t*t*((e+1)*t-e)},easingBackOut:t=>{const e=1.70158,n=t-1;return n*n*((e+1)*n+e)+1},easingBackInOut:t=>{const e=2.5949095;let n=2*t;return n<1?n*n*((e+1)*n-e)*.5:(n-=2,.5*(n*n*((e+1)*n+e)+2))},easingElasticIn:t=>0===t?0:1===t?1:-(2**(10*(t-1)))*Math.sin(5*(t-1.1)*Math.PI),easingElasticOut:t=>0===t?0:1===t?1:2**(-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,easingElasticInOut:t=>{if(0===t)return 0;if(1===t)return 1;const e=2*t;return e<1?-.5*2**(10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*2**(-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1},easingBounceIn:t=>1-x.easingBounceOut(1-t),easingBounceOut:t=>{let e=t;return e<1/2.75?7.5625*e*e:e<2/2.75?(e-=1.5/2.75,7.5625*e*e+.75):e<2.5/2.75?(e-=2.25/2.75,7.5625*e*e+.9375):(e-=2.625/2.75,7.5625*e*e+.984375)},easingBounceInOut:t=>t<.5?.5*x.easingBounceIn(2*t):.5*x.easingBounceOut(2*t-1)+.5};v.processEasing=function(t){return"function"==typeof t?t:"function"==typeof x[t]?x[t]:x.linear};const E=t=>e.push(t),O=t=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)},b={};function I(){Object.keys(g).forEach(e=>{const n=g[e],s=b[e];Object.keys(n).forEach(e=>{"function"==typeof n[e]&&Object.keys(this.valuesEnd).some(t=>s&&s.includes(t)||"attr"===t&&Object.keys(this.valuesEnd[t]).some(t=>s&&s.includes(t)))?t[e]||(t[e]=n[e]):Object.keys(this.valuesEnd).forEach(s=>{const a=this.valuesEnd[s];a instanceof Object&&Object.keys(a).forEach(s=>{"function"==typeof n[s]?t[s]||(t[s]=n[s]):Object.keys(n[e]).forEach(e=>{n[s]&&"function"==typeof n[s][e]&&(t[e]||(t[e]=n[s][e]))})})})})})}const T={add:E,remove:O,getAll:()=>e,removeAll:()=>{e.length=0},stop:f,linkInterpolation:I};function _(t,e){try{let n,s;return e?(s=t instanceof Array&&t.every(t=>t instanceof Element),n=t instanceof HTMLCollection||t instanceof NodeList||s?t:document.querySelectorAll(t)):n=t instanceof Element||t===window?t:document.querySelector(t),n}catch(e){throw TypeError(`KUTE.js - Element(s) not found: ${t}.`)}}class k{constructor(t){const e=t.component,n={onStart:o,onComplete:p},s=t.category,i=t.property;return this._=0,b[e]=t.properties||t.subProperties||t.property,t.defaultOptions&&Object.assign(h,t.defaultOptions),t.functions&&Object.keys(n).forEach(a=>{a in t.functions&&("function"==typeof t.functions[a]?(n[a][e]||(n[a][e]={}),n[a][e][s||i]||(n[a][e][s||i]=t.functions[a])):Object.keys(t.functions[a]).forEach(s=>{n[a][e]||(n[a][e]={}),n[a][e][s]||(n[a][e][s]=t.functions[a][s])}))}),t.Interpolate&&(Object.keys(t.Interpolate).forEach(e=>{const n=t.Interpolate[e];"function"!=typeof n||a[e]?Object.keys(n).forEach(t=>{"function"!=typeof n[t]||a[e]||(a[e]=n[t])}):a[e]=n}),g[e]=t.Interpolate),t.Util&&Object.keys(t.Util).forEach(e=>{y[e]||(y[e]=t.Util[e])}),{name:e}}}function w(){Object.keys(o).forEach(t=>{"function"==typeof o[t]?o[t].call(this,t):Object.keys(o[t]).forEach(e=>{o[t][e].call(this,e)})}),I.call(this)}class j{constructor(e,n,s,a){this.element=e,this.playing=!1,this._startTime=null,this._startFired=!1,this.valuesEnd=s,this.valuesStart=n;const i=a||{};this._resetStart=i.resetStart||0,this._easing="function"==typeof i.easing?i.easing:v.processEasing(i.easing),this._duration=i.duration||h.duration,this._delay=i.delay||h.delay,Object.keys(i).forEach(t=>{const e="_"+t;e in this||(this[e]=i[t])});const r=this._easing.name;return o[r]||(o[r]=function(e){t[e]||e!==this._easing.name||(t[e]=this._easing)}),this}start(e){return E(this),this.playing=!0,this._startTime=void 0!==e?e:t.Time(),this._startTime+=this._delay,this._startFired||(this._onStart&&this._onStart.call(this),w.call(this),this._startFired=!0),l||u(),this}stop(){return this.playing&&(O(this),this.playing=!1,this._onStop&&this._onStop.call(this),this.close()),this}close(){Object.keys(p).forEach(t=>{Object.keys(p[t]).forEach(e=>{p[t][e].call(this,e)})}),this._startFired=!1,f.call(this)}chain(t){return this._chain=[],this._chain=t.length?t:this._chain.concat(t),this}stopChainedTweens(){this._chain&&this._chain.length&&this._chain.forEach(t=>t.stop())}update(e){const n=void 0!==e?e:t.Time();let s;if(n<this._startTime&&this.playing)return!0;s=(n-this._startTime)/this._duration,s=0===this._duration||s>1?1:s;const a=this._easing(s);return Object.keys(this.valuesEnd).forEach(e=>{t[e](this.element,this.valuesStart[e],this.valuesEnd[e],a)}),this._onUpdate&&this._onUpdate.call(this),1!==s||(this._onComplete&&this._onComplete.call(this),this.playing=!1,this.close(),void 0!==this._chain&&this._chain.length&&this._chain.map(t=>t.start()),!1)}}v.tween=j;const{tween:C}=v;function L(t,e,n,s){const a=s||{};return new C(_(t),e,n,a)}function A(t,e,n,s){return`perspective(${(1e3*(t+(e-t)*s)>>0)/1e3}${n})`}function S(t,e,n,s){const a=[];for(let o=0;o<3;o+=1)a[o]=(t[o]||e[o]?(1e3*(t[o]+(e[o]-t[o])*s)>>0)/1e3:0)+n;return`translate3d(${a.join(",")})`}function M(t,e,n,s){let a="";return a+=t[0]||e[0]?`rotateX(${(1e3*(t[0]+(e[0]-t[0])*s)>>0)/1e3}${n})`:"",a+=t[1]||e[1]?`rotateY(${(1e3*(t[1]+(e[1]-t[1])*s)>>0)/1e3}${n})`:"",a+=t[2]||e[2]?`rotateZ(${(1e3*(t[2]+(e[2]-t[2])*s)>>0)/1e3}${n})`:"",a}function N(t,e,n){return`scale(${(1e3*(t+(e-t)*n)>>0)/1e3})`}function P(t,e,n,s){const a=[];return a[0]=(t[0]===e[0]?e[0]:(1e3*(t[0]+(e[0]-t[0])*s)>>0)/1e3)+n,a[1]=t[1]||e[1]?(t[1]===e[1]?e[1]:(1e3*(t[1]+(e[1]-t[1])*s)>>0)/1e3)+n:"0",`skew(${a.join(",")})`}const $={component:"baseTransform",property:"transform",functions:{onStart:function(e){!t[e]&&this.valuesEnd[e]&&(t[e]=(t,n,s,a)=>{t.style[e]=(n.perspective||s.perspective?A(n.perspective,s.perspective,"px",a):"")+(n.translate3d?S(n.translate3d,s.translate3d,"px",a):"")+(n.rotate3d?M(n.rotate3d,s.rotate3d,"deg",a):"")+(n.skew?P(n.skew,s.skew,"deg",a):"")+(n.scale||s.scale?N(n.scale,s.scale,a):"")})}},Interpolate:{perspective:A,translate3d:S,rotate3d:M,translate:function(t,e,n,s){const a=[];return a[0]=(t[0]===e[0]?e[0]:(1e3*(t[0]+(e[0]-t[0])*s)>>0)/1e3)+n,a[1]=t[1]||e[1]?(t[1]===e[1]?e[1]:(1e3*(t[1]+(e[1]-t[1])*s)>>0)/1e3)+n:"0",`translate(${a.join(",")})`},rotate:function(t,e,n,s){return`rotate(${(1e3*(t+(e-t)*s)>>0)/1e3}${n})`},scale:N,skew:P}};function z(t,e,n){return+t+(e-t)*n}const B={component:"baseOpacity",property:"opacity",Interpolate:{numbers:z},functions:{onStart:function(e){e in this.valuesEnd&&!t[e]&&(t[e]=(t,n,s,a)=>{t.style[e]=(1e3*z(n,s,a)>>0)/1e3})}}};function X(e){e in this.valuesEnd&&!t[e]&&(t[e]=(t,n,s,a)=>{t.style[e]=(a>.99||a<.01?(10*z(n,s,a)>>0)/10:z(n,s,a)>>0)+"px"})}const F=["top","left","width","height"],D={};F.forEach(t=>{D[t]=X});const q={component:"baseBoxModel",category:"boxModel",properties:F,Interpolate:{numbers:z},functions:{onStart:D}};function Q(t,e){const n=e&&("object"==typeof(s=e)&&s instanceof HTMLElement)?e:document;var s;return"object"==typeof t?t:n.querySelector(t)}const U=/iPhone|iPad|iPod|Android/i;let Z=!1;Z=navigator.userAgentData?navigator.userAgentData.brands.some(t=>U.test(t.brand)):U.test(navigator.userAgent);const H=Z,R="ontouchstart"in window||"msMaxTouchPoints"in navigator,Y="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"];const W=!!(()=>{let t=!1;try{const o=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});e=document,s=()=>{},function(t,e,n,s){const a=s||!1;t.addEventListener(e,n,a)}(e,n="DOMContentLoaded",(function t(o){o.target===e&&(s.apply(e,[o]),function(t,e,n,s){const a=s||!1;t.removeEventListener(e,n,a)}(e,n,t,a))}),a=o)}catch(t){throw Error("Passive events are not supported")}var e,n,s,a;return t})()&&{passive:!0};function K(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}const V=t=>Object.keys(t);const G={};function J(t,e,n){const s=e.trim().split(/[,|;]/),a={};return s.forEach(e=>{const s=e.split(/[:|=]/),o=s[0],i=s[1],r=/y/i.test(o)||/v/i.test(i)?"offsetHeight":"offsetWidth";/x/i.test(o)&&console.log("processLayerData",o,t.offsetWidth,r,parseFloat(i)*t[r]/100,i),n&&/%/.test(i)&&!/z/i.test(o)?a[o]=i:a[o]=/%/.test(i)?parseFloat(i)*t[r]/100:parseFloat(i)}),a}const tt={delay:250,duration:500,easing:"easingCubicOut",interval:5e3,touch:!0,pause:"hover",slides:{itemsPerPage:3,totalRealItems:5,activeAlign:"center",gap:8,axis:"x",autoloop:!0}};function et(t){const e=function(t){const e={};return["translate","rotate","scale","transform-origin","opacity","duration","delay","easing"].forEach(n=>{e["transform-origin"===n?"origin":n]=t.getAttribute("data-"+n)}),e}(t),{translate:n,rotate:s,origin:a,opacity:o,easing:i}=e;let{scale:r,duration:c,delay:l}=e;return r=parseFloat(r),c=+c,l=+l,{translate:n?J(t,n):"",rotate:s?J(t,s):"",origin:a?J(t,a,1):"",scale:Number.isNaN(r)?"":r,opacity:"false"!==o?1:0,duration:Number.isNaN(c)?tt.duration:c,delay:Number.isNaN(l)?0:l,easing:i||tt.easing}}function nt(t){return Array.from(t.getElementsByClassName("spicr-layer"))}function st(t,e,n){const s=t[e]||t[0],a=nt(s),o=s.classList.contains("active"),i=t[n],r=i&&i.getElementsByClassName("item-bg")[0],c=r?et(r):0;return c?(Object.keys(c).forEach(t=>{/translate|rotate/.test(t)&&c[t]instanceof Object&&Object.keys(c[t]).forEach(e=>{c[t][e]=-c[t][e]})}),a.map(t=>G.layer(t,0,c))):a.map(t=>G.layer(t,o?0:1))}function at(t,e){const n=function(t,e){return Q(t,e)}(t),s=function(t,e,n,s){const a={...t.dataset},o={},i={};return V(a).forEach(t=>{const e=s&&t.includes(s)?t.replace(s,"").replace(/[A-Z]/,t=>t.toLowerCase()):t;i[e]=K(a[t])}),V(n).forEach(t=>{n[t]=K(n[t])}),V(e).forEach(t=>{o[t]=t in n?n[t]:t in i?i[t]:e[t]}),o}(n,tt,e||{}),a=this;a.tweens=[];let o=a.tweens,i={},r=Y;R&&H&&(r=["touchstart","touchend"]);const c=s.pause,l=s.touch,{gap:u,axis:f,autoloop:d}=s.slides,h=s.interval,g=n.getElementsByClassName("item"),p=n.querySelectorAll("[data-slide]"),m=p.length&&p[0],y=p.length&&p[1],v=n.getElementsByClassName("spicr-pages")[0],x=v&&v.querySelectorAll("[data-slide-to]");let E=null,O=null,b=0,I=0;const T=n.classList.contains("spicr-slides"),_=!T&&n.classList.contains("spicr-slider"),k=n.classList.contains("spicr-carousel");function w(){n.classList.contains("paused")||(n.classList.add("paused"),I||(clearInterval(E),E=null))}function j(){n.classList.contains("paused")&&(n.classList.remove("paused"),I||(clearInterval(E),E=null,a.cycle()))}function C(t){if(t.preventDefault(),I)return;const e=t.target,n=e&&e.getAttribute("data-slide-to");e&&!e.classList.contains("active")&&n&&(b=parseInt(n,10),a.slideTo(b))}function L(t){if(t.preventDefault(),I)return;this===y||y.contains(this)?b+=1:(this===m||m.contains(this))&&(b-=1),a.slideTo(b)}function A(t){i.isTouch||(i.startX=t.changedTouches[0].pageX,n.contains(t.target)&&(i.isTouch=!0,N(1)))}function S(t){i.isTouch&&(i.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault())}function M(t){if(i.isTouch&&!I&&(i.endX=i.currentX||t.changedTouches[0].pageX,i.isTouch)){if((!n.contains(t.target)||!n.contains(t.relatedTarget))&&Math.abs(i.startX-i.endX)<75)return;i.currentX<i.startX?b+=1:i.currentX>i.startX&&(b-=1),i.isTouch=!1,a.slideTo(b),N()}}function N(t){const e=t?"addEventListener":"removeEventListener";n[e]("touchmove",S,W),n[e]("touchend",M,W)}function P(t){const e=t?"addEventListener":"removeEventListener";"hover"===c&&h&&(n[e](r[0],w),n[e](r[1],j)),y&&y[e]("click",L),m&&m[e]("click",L),l&&g.length>1&&n[e]("touchstart",A,W),v&&v[e]("click",C)}function $(t){Array.from(x).map(t=>t.classList.remove("active")),t&&t.classList.add("active")}function z(t,e){b=e,g[e].classList.add("next"),I=!0,k&&t>-1&&g[t].offsetHeight!==g[e].offsetHeight&&(n.style.height=getComputedStyle(g[t]).height)}function B(t,e){g[e].classList.add("active"),g[e].classList.remove("next"),g[t]&&g[t].classList.remove("active"),setTimeout(()=>{if(k&&(n.style.height=""),T){if(console.log("options.slides",s.slides),s.slides.autoloop){const t=X();console.log("nextItem (active 1)",e),console.log("ttlItemsFrActive",t);const n=e-t;console.log("indexOfFirstItemOnPg",n);const a=s.slides.itemsPerPage-1;console.log("maxIdxLClones",a);const o=s.slides.itemsPerPage+s.slides.totalRealItems+1-1;if(console.log("minIdxRClones",o),a>=n||n>=o){console.log("chkIsInCloneRange",n,a>=n>=o);const t=n>=o;console.log("isOnRight",t);let i=s.slides.totalRealItems;i=t?-i:i,console.log("moveByTtlItems",i);const r=e+i;b=r,console.log("realNextItem",r);const c=n+i;console.log("realFirstItemPg",c);let l=0;l="x"===f?g[0].offsetWidth:g[0].offsetHeight,console.log("itemLength",l);const d=-1*(c*l+u*c);console.log("pos",u,d),Array.from(g).forEach((t,e)=>{t.style.transform=`translate${f.toUpperCase()}(${d}px)`}),g[e].classList.remove("active"),g[r].classList.add("active"),e=r}}}else G.reset(n);I=!1,o=[];const t=new CustomEvent("afterTween",{detail:{newActive:e}});n.dispatchEvent(t),h&&!n.classList.contains("paused")&&a.cycle()},0)}function X(){let t=0;return"center"===s.slides.activeAlign?t=(s.slides.itemsPerPage-1)/2:"right"===s.slides.activeAlign&&(t=s.slides.itemsPerPage),t}T&&(b=(d?s.slides.itemsPerPage:0)+X()+1-1,console.log("init index",b)),this.getActiveIndex=()=>{const t=n.getElementsByClassName("item active")[0];return Array.from(g).indexOf(t)},this.cycle=()=>{clearInterval(E),E=setTimeout(()=>{b+=1,a.slideTo(b)},h)},this.slideTo=t=>{console.log("slideTonextIdx",t);let e=t;const s=this.getActiveIndex();console.log(s,e,I),s===e||I||(clearInterval(E),E=setTimeout(()=>{if(s<e||0===s&&e===g.length-1?O=1:(s>e||s===g.length-1&&0===e)&&(O=0),e<0?e=g.length-1:e>=g.length&&(e=0),console.log(" find the right next index",s,e,I),_){z(s,e);const t=-1!==s?st(g,s,e):st(g,s),n=-1!==s&&st(g,e);-1===s?t.length&&(o=o.concat(t)):(t.length&&(o=o.concat(t)),n.length&&(o=o.concat(n))),o.length?(o.reduce((t,e)=>t._duration+t._delay>e._duration+e._delay?t:e)._onComplete=()=>B(s,e),o.forEach(t=>t.start())):B(s,e),x&&$(x[e])}else if(T)z(s,e),o=G.slides(n,g,s,e,O,f,u),o.length?(o.reduce((t,e)=>t._duration+t._delay>e._duration+e._delay?t:e)._onComplete=()=>B(s,e),o.forEach(t=>t.start())):B(s,e);else if(k){z(s,e);const{delay:t,duration:a,easing:i}=tt,r=g[s],c=g[e];o=G.carousel(n,g,s,e,O),o.length?(r&&r.offsetHeight!==c.offsetHeight&&o.push(G.fromTo(n,{height:parseFloat(getComputedStyle(r).height)},{height:parseFloat(getComputedStyle(c).height)},{easing:i,duration:a,delay:Math.max(...o.map(t=>t._delay+t._duration))||t})),o[o.length-1]._onComplete=()=>B(s,e),o.forEach(t=>t.start())):B(s,e),x&&$(x[e])}},1))},this.dispose=()=>{I&&o.forEach(t=>t.stop()),G.reset(n),i={},P(),clearInterval(E),delete n.Spicr},n.Spicr&&n.Spicr.dispose(),P(1),n.Spicr=a,n.getElementsByClassName("item active").length?h&&a.cycle():a.slideTo(0)}G.fromTo=L;const ot={Animation:k,Components:{Transform:new k($),Opacity:new k(B),BoxModel:new k(q)},Tween:j,fromTo:L,Objects:m,Easing:x,Util:y,Render:d,Interpolate:a,Internals:T,Selector:_};function it(t){const e=t instanceof Element?t:document;Array.from(e.querySelectorAll('[data-function="spicr"]')).forEach(t=>new at(t))}Object.assign(at,ot),G.carousel=function(t,e,n,s,a){const o=[],i=et(t),r={},c={},l={},u={},f=e[n],d=f&&nt(f),h=nt(e[s]),{translate:g}=i,{rotate:p}=i,{scale:m}=i,y=t.getAttribute("data-transform-origin"),{opacity:v}=i,{easing:x}=i;let E=i.duration||tt.duration,O=i.delay||+E/2;if(v&&(r.opacity=1,c.opacity=0,l.opacity=0,u.opacity=1),(m||g||p)&&(r.transform={},c.transform={},l.transform={},u.transform={}),m&&(r.transform.scale=1,c.transform.scale=m,l.transform.scale=m,u.transform.scale=1),g){r.transform.translate3d=[0,0,0];let t=0,e=0,n=0;"x"in g&&(t=a?-g.x:g.x),"y"in g&&(e=a?-g.y:g.y),"Z"in g&&(n=a?-g.z:g.z),c.transform.translate3d=[t,e,n];let s=0,o=0,i=0;"x"in g&&(s=a?g.x:-g.x),"y"in g&&(o=a?g.y:-g.y),"Z"in g&&(i=a?g.z:-g.z),l.transform.translate3d=[s,o,i],u.transform.translate3d=[0,0,0]}if(p){r.transform.rotate3d=[0,0,0];let t=0,e=0,n=0;"x"in p&&(t=a?-p.x:p.x),"y"in p&&(e=a?-p.y:p.y),"Z"in p&&(n=a?-p.z:p.z),c.transform.rotate3d=[t,e,n];let s=0,o=0,i=0;"x"in p&&(s=a?p.x:-p.x),"y"in p&&(o=a?p.y:-p.y),"Z"in p&&(i=a?p.z:-p.z),l.transform.rotate3d=[s,o,i],u.transform.rotate3d=[0,0,0]}a||(d&&d.reverse(),h.reverse()),v||p||g||m||(E=50,O=0);const b={easing:x,duration:E},I=b;return d&&d.forEach((t,e)=>{if(b.delay=tt.delay*e,o.push(G.fromTo(t,r,c,b)),y){const e=J(t,y);let n="50%",s="50%";const a="z"in e?` ${e.z}px`:"";"x"in e&&(n=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(s=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=`${n} ${s}${a}`}}),h.forEach((t,e)=>{if(I.delay=(O+50)*e,o.push(G.fromTo(t,l,u,I)),y){const e=J(t,y);let n="50%",s="50%";const a="z"in e?` ${e.z}px`:"";"x"in e&&(n=/%/.test(e.x)?e.x:e.x+"px"),"y"in e&&(s=/%/.test(e.y)?e.y:e.y+"px"),t.style.transformOrigin=`${n} ${s}${a}`}}),o},G.layer=function(t,e,n){const s=n||et(t),a=t.classList.contains("item-bg"),o={},i={},{translate:r}=s,{rotate:c}=s,{scale:l}=s,{origin:u}=s;let{opacity:f}=s,{duration:d}=s,{easing:h}=s,g=s.delay||(a?0:tt.delay);if(/InOut/.test(h)||n||(h=e?h.replace("In","Out"):h.replace("Out","In")),e||(d=a?d:1.5*d),g=e?g:0,f=!e&&a&&n?0:f,f&&(o.opacity=e?0:1,i.opacity=e?1:0),(l||r||c)&&(o.transform={},i.transform={},u)){let e="50%",n="50%";const s="z"in u?` ${u.z}px`:"";"x"in u&&(e=/%/.test(u.x)?u.x:u.x+"px"),"y"in u&&(n=/%/.test(u.y)?u.y:u.y+"px"),t.style.transformOrigin=`${e} ${n}${s}`}if(l&&(o.transform.scale=e?l:1,i.transform.scale=e?1:l),r){const t=e&&r.x?r.x:0,n=r.x&&!e?r.x:0,s=e&&r.y?r.y:0,a=r.y&&!e?r.y:0,c=e&&r.z?r.z:0,l=r.z&&!e?r.z:0;o.transform.translate3d=[t,s,c],i.transform.translate3d=[n,a,l]}if(c){const t=e&&c.x?c.x:0,n=!e&&c.x?c.x:0,s=e&&c.y?c.y:0,a=!e&&c.y?c.y:0,r=e&&c.z?c.z:0,l=!e&&c.z?c.z:0;o.transform.rotate3d=[t,s,r],i.transform.rotate3d=[n,a,l]}return f||c||r||l||(d=50,g=0),G.fromTo(t,o,i,{easing:h,duration:d,delay:g})},G.reset=function(t){Array.from(t.getElementsByClassName("spicr-layer")).forEach(t=>{t.style.opacity="",t.style.transform="",t.style.transformOrigin=""})},G.slides=function(t,e,n,s,a,o,i){const r=[],c=function(t,e){const n=function(t){const e={};return["translate","rotate","scale","transform-origin","opacity","duration","delay","easing","axis"].forEach(n=>{e["transform-origin"===n?"origin":n]=t.getAttribute("data-"+n)}),e}(t),{translate:s,rotate:a,origin:o,opacity:i,easing:r,axis:c}=n;let{scale:l,duration:u,delay:f}=n;return l=parseFloat(l),u=+u,f=+f,{axis:c,translate:s?J(e,s):"",rotate:a?J(t,a):"",origin:o?J(t,o,1):"",scale:Number.isNaN(l)?"":l,opacity:"false"!==i?1:0,duration:Number.isNaN(u)?tt.duration:u,delay:Number.isNaN(f)?0:f,easing:r||tt.easing}}(t,e[n]),l=e[n],{translate:u}=c,{easing:f}=(t.getAttribute("data-transform-origin"),c),d=c.duration||tt.duration,h={},g={},p=getComputedStyle(l).getPropertyValue("transform"),m=new DOMMatrixReadOnly(p),y={X:m.m41,Y:m.m42,Z:m.m43};if(console.log("activeTranslate",y),u){console.log("elem translate",u),h.transform={},g.transform={},h.transform.translate3d=[y.X,y.Y,y.Z];let t=0,n=0,s=0;"x"in u&&("x"===o&&(u.x+=i),t=a?-u.x:u.x),"y"in u&&("y"===o&&(u.y+=i),n=a?-u.y:u.y),"z"in u&&("z"===o&&(u.z+=i),s=a?-u.z:u.z),console.log("elem translate after direction",u);const c=t+y.X,l=n+y.Y,p=s+y.Z;g.transform.translate3d=[c,l,p],console.log("fromTo",h.transform,g.transform),Array.from(e).forEach((t,e)=>{r.push(G.fromTo(t,h,g,{easing:f,duration:d}))})}return r},at.initComponent=it,document.body?it():document.addEventListener("DOMContentLoaded",it,{once:!0});at.Version="1.0.10";export default at;
