// Spicr v1.0.10 | thednp Â© 2023 | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Spicr=e()}(this,(function(){"use strict";var t={},e=[],n="undefined"!=typeof global?global:"undefined"!=typeof window?window.self:{},a={},r={},i="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):"undefined"!=typeof Date&&Date.now?Date.now:function(){return(new Date).getTime()},o={};o.now=i;var s=0,c=function(t){for(var n=0;n<e.length;)e[n].update(t)?n+=1:e.splice(n,1);s=requestAnimationFrame(c)};function u(){setTimeout((function(){!e.length&&s&&(cancelAnimationFrame(s),s=null,Object.keys(r).forEach((function(e){"function"==typeof r[e]?t[e]&&delete t[e]:Object.keys(r[e]).forEach((function(e){t[e]&&delete t[e]}))})),Object.keys(a).forEach((function(e){t[e]&&delete t[e]})))}),64)}var l={Tick:s,Ticker:c,Tweens:e,Time:o};Object.keys(l).forEach((function(e){t[e]||(t[e]="Time"===e?o.now:l[e])})),n._KUTE=t;var f={duration:700,delay:0,easing:"linear",repeat:0,repeatDelay:0,yoyo:!1,resetStart:!1,offset:0},d={},h={},p={defaultOptions:f,linkProperty:d,onStart:r,onComplete:h},g={},y={tween:null,processEasing:null},m={linear:function(t){return t},easingSinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},easingSinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},easingSinusoidalInOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easingQuadraticIn:function(t){return t*t},easingQuadraticOut:function(t){return t*(2-t)},easingQuadraticInOut:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easingCubicIn:function(t){return t*t*t},easingCubicOut:function(t){var e=t-1;return e*e*e+1},easingCubicInOut:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easingQuarticIn:function(t){return t*t*t*t},easingQuarticOut:function(t){var e=t-1;return 1-e*e*e*e},easingQuarticInOut:function(t){var e=t;return e<.5?8*e*e*e*e:1-8*(e-=1)*e*e*e},easingQuinticIn:function(t){return t*t*t*t*t},easingQuinticOut:function(t){var e=t-1;return 1+e*e*e*e*e},easingQuinticInOut:function(t){var e=t;return e<.5?16*e*e*e*e*e:1+16*(e-=1)*e*e*e*e},easingCircularIn:function(t){return-(Math.sqrt(1-t*t)-1)},easingCircularOut:function(t){var e=t-1;return Math.sqrt(1-e*e)},easingCircularInOut:function(t){var e=2*t;return e<1?-.5*(Math.sqrt(1-e*e)-1):(e-=2,.5*(Math.sqrt(1-e*e)+1))},easingExponentialIn:function(t){return Math.pow(2,10*(t-1))-.001},easingExponentialOut:function(t){return 1-Math.pow(2,-10*t)},easingExponentialInOut:function(t){var e=2*t;return e<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))},easingBackIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easingBackOut:function(t){var e=1.70158,n=t-1;return n*n*((e+1)*n+e)+1},easingBackInOut:function(t){var e=2.5949095,n=2*t;return n<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},easingElasticIn:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},easingElasticOut:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},easingElasticInOut:function(t){if(0===t)return 0;if(1===t)return 1;var e=2*t;return e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1},easingBounceIn:function(t){return 1-m.easingBounceOut(1-t)},easingBounceOut:function(t){var e=t;return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easingBounceInOut:function(t){return t<.5?.5*m.easingBounceIn(2*t):.5*m.easingBounceOut(2*t-1)+.5}};y.processEasing=function(t){return"function"==typeof t?t:"function"==typeof m[t]?m[t]:m.linear};var v=function(t){return e.push(t)},x=function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},E={};function O(){var e=this;Object.keys(d).forEach((function(n){var a=d[n],r=E[n];Object.keys(a).forEach((function(n){"function"==typeof a[n]&&Object.keys(e.valuesEnd).some((function(t){return r&&r.includes(t)||"attr"===t&&Object.keys(e.valuesEnd[t]).some((function(t){return r&&r.includes(t)}))}))?t[n]||(t[n]=a[n]):Object.keys(e.valuesEnd).forEach((function(r){var i=e.valuesEnd[r];i instanceof Object&&Object.keys(i).forEach((function(e){"function"==typeof a[e]?t[e]||(t[e]=a[e]):Object.keys(a[n]).forEach((function(n){a[e]&&"function"==typeof a[e][n]&&(t[n]||(t[n]=a[e][n]))}))}))}))}))}))}var b={add:v,remove:x,getAll:function(){return e},removeAll:function(){e.length=0},stop:u,linkInterpolation:O};function I(t,e){try{var n,a;return e?(a=t instanceof Array&&t.every((function(t){return t instanceof Element})),n=t instanceof HTMLCollection||t instanceof NodeList||a?t:document.querySelectorAll(t)):n=t instanceof Element||t===window?t:document.querySelector(t),n}catch(e){throw TypeError("KUTE.js - Element(s) not found: "+t+".")}}var T=function(t){var e=t.component,n={onStart:r,onComplete:h},i=t.category,o=t.property;return this._=0,E[e]=t.properties||t.subProperties||t.property,t.defaultOptions&&Object.assign(f,t.defaultOptions),t.functions&&Object.keys(n).forEach((function(a){a in t.functions&&("function"==typeof t.functions[a]?(n[a][e]||(n[a][e]={}),n[a][e][i||o]||(n[a][e][i||o]=t.functions[a])):Object.keys(t.functions[a]).forEach((function(r){n[a][e]||(n[a][e]={}),n[a][e][r]||(n[a][e][r]=t.functions[a][r])})))})),t.Interpolate&&(Object.keys(t.Interpolate).forEach((function(e){var n=t.Interpolate[e];"function"!=typeof n||a[e]?Object.keys(n).forEach((function(t){"function"!=typeof n[t]||a[e]||(a[e]=n[t])})):a[e]=n})),d[e]=t.Interpolate),t.Util&&Object.keys(t.Util).forEach((function(e){g[e]||(g[e]=t.Util[e])})),{name:e}};function _(){var t=this;Object.keys(r).forEach((function(e){"function"==typeof r[e]?r[e].call(t,e):Object.keys(r[e]).forEach((function(n){r[e][n].call(t,n)}))})),O.call(this)}var w=function(e,n,a,i){var o=this;this.element=e,this.playing=!1,this._startTime=null,this._startFired=!1,this.valuesEnd=a,this.valuesStart=n;var s=i||{};this._resetStart=s.resetStart||0,this._easing="function"==typeof s.easing?s.easing:y.processEasing(s.easing),this._duration=s.duration||f.duration,this._delay=s.delay||f.delay,Object.keys(s).forEach((function(t){var e="_"+t;e in o||(o[e]=s[t])}));var c=this._easing.name;return r[c]||(r[c]=function(e){t[e]||e!==this._easing.name||(t[e]=this._easing)}),this};w.prototype.start=function(e){return v(this),this.playing=!0,this._startTime=void 0!==e?e:t.Time(),this._startTime+=this._delay,this._startFired||(this._onStart&&this._onStart.call(this),_.call(this),this._startFired=!0),s||c(),this},w.prototype.stop=function(){return this.playing&&(x(this),this.playing=!1,this._onStop&&this._onStop.call(this),this.close()),this},w.prototype.close=function(){var t=this;Object.keys(h).forEach((function(e){Object.keys(h[e]).forEach((function(n){h[e][n].call(t,n)}))})),this._startFired=!1,u.call(this)},w.prototype.chain=function(t){return this._chain=[],this._chain=t.length?t:this._chain.concat(t),this},w.prototype.stopChainedTweens=function(){this._chain&&this._chain.length&&this._chain.forEach((function(t){return t.stop()}))},w.prototype.update=function(e){var n,a=this,r=void 0!==e?e:t.Time();if(r<this._startTime&&this.playing)return!0;n=(r-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var i=this._easing(n);return Object.keys(this.valuesEnd).forEach((function(e){t[e](a.element,a.valuesStart[e],a.valuesEnd[e],i)})),this._onUpdate&&this._onUpdate.call(this),1!==n||(this._onComplete&&this._onComplete.call(this),this.playing=!1,this.close(),void 0!==this._chain&&this._chain.length&&this._chain.map((function(t){return t.start()})),!1)},y.tween=w;var k=y.tween;function j(t,e,n,a){var r=a||{};return new k(I(t),e,n,r)}function M(t,e,n,a){return"perspective("+(1e3*(t+(e-t)*a)>>0)/1e3+n+")"}function C(t,e,n,a){for(var r=[],i=0;i<3;i+=1)r[i]=(t[i]||e[i]?(1e3*(t[i]+(e[i]-t[i])*a)>>0)/1e3:0)+n;return"translate3d("+r.join(",")+")"}function A(t,e,n,a){var r="";return r+=t[0]||e[0]?"rotateX("+(1e3*(t[0]+(e[0]-t[0])*a)>>0)/1e3+n+")":"",r+=t[1]||e[1]?"rotateY("+(1e3*(t[1]+(e[1]-t[1])*a)>>0)/1e3+n+")":"",r+=t[2]||e[2]?"rotateZ("+(1e3*(t[2]+(e[2]-t[2])*a)>>0)/1e3+n+")":""}function L(t,e,n){return"scale("+(1e3*(t+(e-t)*n)>>0)/1e3+")"}function S(t,e,n,a){var r=[];return r[0]=(t[0]===e[0]?e[0]:(1e3*(t[0]+(e[0]-t[0])*a)>>0)/1e3)+n,r[1]=t[1]||e[1]?(t[1]===e[1]?e[1]:(1e3*(t[1]+(e[1]-t[1])*a)>>0)/1e3)+n:"0","skew("+r.join(",")+")"}var N={component:"baseTransform",property:"transform",functions:{onStart:function(e){!t[e]&&this.valuesEnd[e]&&(t[e]=function(t,n,a,r){t.style[e]=(n.perspective||a.perspective?M(n.perspective,a.perspective,"px",r):"")+(n.translate3d?C(n.translate3d,a.translate3d,"px",r):"")+(n.rotate3d?A(n.rotate3d,a.rotate3d,"deg",r):"")+(n.skew?S(n.skew,a.skew,"deg",r):"")+(n.scale||a.scale?L(n.scale,a.scale,r):"")})}},Interpolate:{perspective:M,translate3d:C,rotate3d:A,translate:function(t,e,n,a){var r=[];return r[0]=(t[0]===e[0]?e[0]:(1e3*(t[0]+(e[0]-t[0])*a)>>0)/1e3)+n,r[1]=t[1]||e[1]?(t[1]===e[1]?e[1]:(1e3*(t[1]+(e[1]-t[1])*a)>>0)/1e3)+n:"0","translate("+r.join(",")+")"},rotate:function(t,e,n,a){return"rotate("+(1e3*(t+(e-t)*a)>>0)/1e3+n+")"},scale:L,skew:S}};function P(t,e,n){return+t+(e-t)*n}var z={component:"baseOpacity",property:"opacity",Interpolate:{numbers:P},functions:{onStart:function(e){e in this.valuesEnd&&!t[e]&&(t[e]=function(t,n,a,r){t.style[e]=(1e3*P(n,a,r)>>0)/1e3})}}};function B(e){e in this.valuesEnd&&!t[e]&&(t[e]=function(t,n,a,r){t.style[e]=(r>.99||r<.01?(10*P(n,a,r)>>0)/10:P(n,a,r)>>0)+"px"})}var X=["top","left","width","height"],F={};X.forEach((function(t){F[t]=B}));var D={component:"baseBoxModel",category:"boxModel",properties:X,Interpolate:{numbers:P},functions:{onStart:F}};function q(t,e){var n,a=e&&("object"==typeof(n=e)&&n instanceof HTMLElement)?e:document;return"object"==typeof t?t:a.querySelector(t)}var Q=/iPhone|iPad|iPod|Android/i,U=navigator.userAgentData?navigator.userAgentData.brands.some((function(t){return Q.test(t.brand)})):Q.test(navigator.userAgent),Z="ontouchstart"in window||"msMaxTouchPoints"in navigator,H="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"];var R=!!function(){var t,e,n,a,r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return r=!0}});t=document,n=function(){},function(t,e,n,a){var r=a||!1;t.addEventListener(e,n,r)}(t,e="DOMContentLoaded",(function r(i){i.target===t&&(n.apply(t,[i]),function(t,e,n,a){var r=a||!1;t.removeEventListener(e,n,r)}(t,e,r,a))}),a=i)}catch(t){throw Error("Passive events are not supported")}return r}()&&{passive:!0};function Y(t){return"true"===t||"false"!==t&&(Number.isNaN(+t)?""===t||"null"===t?null:t:+t)}var K=function(t){return Object.keys(t)};var V={};function W(t,e,n){var a=e.trim().split(/[,|;]/),r={};return a.forEach((function(e){var a=e.split(/[:|=]/),i=a[0],o=a[1],s=/y/i.test(i)||/v/i.test(o)?"offsetHeight":"offsetWidth";n&&/%/.test(o)&&!/z/i.test(i)?r[i]=o:r[i]=/%/.test(o)?parseFloat(o)*t[s]/100:parseFloat(o)})),r}var G={delay:250,duration:500,easing:"easingCubicOut",interval:5e3,touch:!0,pause:"hover",slides:{itemsPerPage:3,totalRealItems:5,activeAlign:"center",gap:8,axis:"x",autoloop:!0}};function J(t){var e,n,a=(e=t,n={},["translate","rotate","scale","transform-origin","opacity","duration","delay","easing"].forEach((function(t){n["transform-origin"===t?"origin":t]=e.getAttribute("data-"+t)})),n),r=a.translate,i=a.rotate,o=a.origin,s=a.opacity,c=a.easing,u=a.scale,l=a.duration,f=a.delay;return u=parseFloat(u),l=+l,f=+f,{translate:r?W(t,r):"",rotate:i?W(t,i):"",origin:o?W(t,o,1):"",scale:Number.isNaN(u)?"":u,opacity:"false"!==s?1:0,duration:Number.isNaN(l)?G.duration:l,delay:Number.isNaN(f)?0:f,easing:c||G.easing}}function $(t){return Array.from(t.getElementsByClassName("spicr-layer"))}function tt(t,e,n){var a=t[e]||t[0],r=$(a),i=a.classList.contains("active"),o=t[n],s=o&&o.getElementsByClassName("item-bg")[0],c=s?J(s):0;return c?(Object.keys(c).forEach((function(t){/translate|rotate/.test(t)&&c[t]instanceof Object&&Object.keys(c[t]).forEach((function(e){c[t][e]=-c[t][e]}))})),r.map((function(t){return V.layer(t,0,c)}))):r.map((function(t){return V.layer(t,i?0:1)}))}function et(t,e){var n=this,a=function(t,e){return q(t,e)}(t),r=function(t,e,n,a){var r=Object.assign({},t.dataset),i={},o={};return K(r).forEach((function(t){var e=a&&t.includes(a)?t.replace(a,"").replace(/[A-Z]/,(function(t){return t.toLowerCase()})):t;o[e]=Y(r[t])})),K(n).forEach((function(t){n[t]=Y(n[t])})),K(e).forEach((function(t){i[t]=t in n?n[t]:t in o?o[t]:e[t]})),i}(a,G,e||{}),i=this;i.tweens=[];var o=i.tweens,s={},c=H;Z&&U&&(c=["touchstart","touchend"]);var u=r.pause,l=r.touch,f=r.slides,d=f.gap,h=f.axis,p=f.autoloop,g=r.interval,y=a.getElementsByClassName("item"),m=a.querySelectorAll("[data-slide]"),v=m.length&&m[0],x=m.length&&m[1],E=a.getElementsByClassName("spicr-pages")[0],O=E&&E.querySelectorAll("[data-slide-to]"),b=null,I=null,T=0,_=0,w=a.classList.contains("spicr-slides"),k=!w&&a.classList.contains("spicr-slider"),j=a.classList.contains("spicr-carousel");function M(){a.classList.contains("paused")||(a.classList.add("paused"),_||(clearInterval(b),b=null))}function C(){a.classList.contains("paused")&&(a.classList.remove("paused"),_||(clearInterval(b),b=null,i.cycle()))}function A(t){if(t.preventDefault(),!_){var e=t.target,n=e&&e.getAttribute("data-slide-to");e&&!e.classList.contains("active")&&n&&(T=parseInt(n,10),i.slideTo(T))}}function L(t){if(t.preventDefault(),!_){this===x||x.contains(this)?T+=1:(this===v||v.contains(this))&&(T-=1),i.slideTo(T)}}function S(t){s.isTouch||(s.startX=t.changedTouches[0].pageX,a.contains(t.target)&&(s.isTouch=!0,z(1)))}function N(t){s.isTouch&&(s.currentX=t.changedTouches[0].pageX,"touchmove"===t.type&&t.changedTouches.length>1&&t.preventDefault())}function P(t){if(s.isTouch&&!_&&(s.endX=s.currentX||t.changedTouches[0].pageX,s.isTouch)){if((!a.contains(t.target)||!a.contains(t.relatedTarget))&&Math.abs(s.startX-s.endX)<75)return;s.currentX<s.startX?T+=1:s.currentX>s.startX&&(T-=1),s.isTouch=!1,i.slideTo(T),z()}}function z(t){var e=t?"addEventListener":"removeEventListener";a[e]("touchmove",N,R),a[e]("touchend",P,R)}function B(t){var e=t?"addEventListener":"removeEventListener";"hover"===u&&g&&(a[e](c[0],M),a[e](c[1],C)),x&&x[e]("click",L),v&&v[e]("click",L),l&&y.length>1&&a[e]("touchstart",S,R),E&&E[e]("click",A)}function X(t){Array.from(O).map((function(t){return t.classList.remove("active")})),t&&t.classList.add("active")}function F(t,e){T=e,y[e].classList.add("next"),_=!0,j&&t>-1&&y[t].offsetHeight!==y[e].offsetHeight&&(a.style.height=getComputedStyle(y[t]).height)}function D(t,e){y[e].classList.add("active"),y[e].classList.remove("next"),y[t]&&y[t].classList.remove("active"),setTimeout((function(){if(j&&(a.style.height=""),w){if(console.log("options.slides",r.slides),p){var t=Q();console.log("nextItem (active 1)",e),console.log("ttlItemsFrActive",t);var n=e-t;console.log("indexOfFirstItemOnPg",n);var s=r.slides.itemsPerPage-1;console.log("maxIdxLClones",s);var c=r.slides.itemsPerPage+r.slides.totalRealItems+1-1;if(console.log("minIdxRClones",c),s>=n||n>=c){console.log("chkIsInCloneRange",n,s>=n>=c);var u=n>=c;console.log("isOnRight",u);var l=r.slides.totalRealItems;l=u?-l:l,console.log("moveByTtlItems",l);var f=e+l;T=f,console.log("realNextItem",f);var m=n+l;console.log("realFirstItemPg",m);var v=0;v="x"===h?y[0].offsetWidth:y[0].offsetHeight,console.log("itemLength",v);var x=-1*(m*v+d*m);console.log("pos",d,x),Array.from(y).forEach((function(t,e){t.style.transform="translate"+h.toUpperCase()+"("+x+"px)"})),y[e].classList.remove("active"),y[f].classList.add("active"),e=f}}}else V.reset(a);_=!1,o=[];var E=new CustomEvent("afterTween",{detail:{newActive:e}});a.dispatchEvent(E),g&&!a.classList.contains("paused")&&i.cycle()}),0)}function Q(){var t=0;return"center"===r.slides.activeAlign?t=(r.slides.itemsPerPage-1)/2:"right"===r.slides.activeAlign&&(t=r.slides.itemsPerPage),t}w&&(T=(p?r.slides.itemsPerPage:0)+Q()+1-1,console.log("init index",T)),this.getActiveIndex=function(){var t=a.getElementsByClassName("item active")[0];return Array.from(y).indexOf(t)},this.cycle=function(){clearInterval(b),b=setTimeout((function(){T+=1,i.slideTo(T)}),g)},this.slideTo=function(t){console.log("slideTonextIdx",t);var e=t,r=n.getActiveIndex();console.log(r,e,_),r===e||_||(clearInterval(b),b=setTimeout((function(){if(r<e||0===r&&e===y.length-1?I=1:(r>e||r===y.length-1&&0===e)&&(I=0),e<0?e=y.length-1:e>=y.length&&(e=0),console.log(" find the right next index",r,e,_),k){F(r,e);var t=-1!==r?tt(y,r,e):tt(y,r),n=-1!==r&&tt(y,e);-1===r?t.length&&(o=o.concat(t)):(t.length&&(o=o.concat(t)),n.length&&(o=o.concat(n))),o.length?(o.reduce((function(t,e){return t._duration+t._delay>e._duration+e._delay?t:e}))._onComplete=function(){return D(r,e)},o.forEach((function(t){return t.start()}))):D(r,e),O&&X(O[e])}else if(w)F(r,e),(o=V.slides(a,y,r,e,I,h,d)).length?(o.reduce((function(t,e){return t._duration+t._delay>e._duration+e._delay?t:e}))._onComplete=function(){return D(r,e)},o.forEach((function(t){return t.start()}))):D(r,e);else if(j){F(r,e);var i=G.delay,s=G.duration,c=G.easing,u=y[r],l=y[e];(o=V.carousel(a,y,r,e,I)).length?(u&&u.offsetHeight!==l.offsetHeight&&o.push(V.fromTo(a,{height:parseFloat(getComputedStyle(u).height)},{height:parseFloat(getComputedStyle(l).height)},{easing:c,duration:s,delay:Math.max.apply(Math,o.map((function(t){return t._delay+t._duration})))||i})),o[o.length-1]._onComplete=function(){return D(r,e)},o.forEach((function(t){return t.start()}))):D(r,e),O&&X(O[e])}}),1))},this.dispose=function(){_&&o.forEach((function(t){return t.stop()})),V.reset(a),s={},B(),clearInterval(b),delete a.Spicr},a.Spicr&&a.Spicr.dispose(),B(1),a.Spicr=i,a.getElementsByClassName("item active").length?g&&i.cycle():i.slideTo(0)}V.fromTo=j;var nt={Animation:T,Components:{Transform:new T(N),Opacity:new T(z),BoxModel:new T(D)},Tween:w,fromTo:j,Objects:p,Easing:m,Util:g,Render:l,Interpolate:a,Internals:b,Selector:I};function at(t){var e=t instanceof Element?t:document;Array.from(e.querySelectorAll('[data-function="spicr"]')).forEach((function(t){return new et(t)}))}Object.assign(et,nt),V.carousel=function(t,e,n,a,r){var i=[],o=J(t),s={},c={},u={},l={},f=e[n],d=f&&$(f),h=$(e[a]),p=o.translate,g=o.rotate,y=o.scale,m=t.getAttribute("data-transform-origin"),v=o.opacity,x=o.easing,E=o.duration||G.duration,O=o.delay||+E/2;if(v&&(s.opacity=1,c.opacity=0,u.opacity=0,l.opacity=1),(y||p||g)&&(s.transform={},c.transform={},u.transform={},l.transform={}),y&&(s.transform.scale=1,c.transform.scale=y,u.transform.scale=y,l.transform.scale=1),p){s.transform.translate3d=[0,0,0];var b=0,I=0,T=0;"x"in p&&(b=r?-p.x:p.x),"y"in p&&(I=r?-p.y:p.y),"Z"in p&&(T=r?-p.z:p.z),c.transform.translate3d=[b,I,T];var _=0,w=0,k=0;"x"in p&&(_=r?p.x:-p.x),"y"in p&&(w=r?p.y:-p.y),"Z"in p&&(k=r?p.z:-p.z),u.transform.translate3d=[_,w,k],l.transform.translate3d=[0,0,0]}if(g){s.transform.rotate3d=[0,0,0];var j=0,M=0,C=0;"x"in g&&(j=r?-g.x:g.x),"y"in g&&(M=r?-g.y:g.y),"Z"in g&&(C=r?-g.z:g.z),c.transform.rotate3d=[j,M,C];var A=0,L=0,S=0;"x"in g&&(A=r?g.x:-g.x),"y"in g&&(L=r?g.y:-g.y),"Z"in g&&(S=r?g.z:-g.z),u.transform.rotate3d=[A,L,S],l.transform.rotate3d=[0,0,0]}r||(d&&d.reverse(),h.reverse()),v||g||p||y||(E=50,O=0);var N={easing:x,duration:E},P=N;return d&&d.forEach((function(t,e){if(N.delay=G.delay*e,i.push(V.fromTo(t,s,c,N)),m){var n=W(t,m),a="50%",r="50%",o="z"in n?" "+n.z+"px":"";"x"in n&&(a=/%/.test(n.x)?n.x:n.x+"px"),"y"in n&&(r=/%/.test(n.y)?n.y:n.y+"px"),t.style.transformOrigin=a+" "+r+o}})),h.forEach((function(t,e){if(P.delay=(O+50)*e,i.push(V.fromTo(t,u,l,P)),m){var n=W(t,m),a="50%",r="50%",o="z"in n?" "+n.z+"px":"";"x"in n&&(a=/%/.test(n.x)?n.x:n.x+"px"),"y"in n&&(r=/%/.test(n.y)?n.y:n.y+"px"),t.style.transformOrigin=a+" "+r+o}})),i},V.layer=function(t,e,n){var a=n||J(t),r=t.classList.contains("item-bg"),i={},o={},s=a.translate,c=a.rotate,u=a.scale,l=a.origin,f=a.opacity,d=a.duration,h=a.easing,p=a.delay||(r?0:G.delay);if(/InOut/.test(h)||n||(h=e?h.replace("In","Out"):h.replace("Out","In")),e||(d=r?d:1.5*d),p=e?p:0,(f=!e&&r&&n?0:f)&&(i.opacity=e?0:1,o.opacity=e?1:0),(u||s||c)&&(i.transform={},o.transform={},l)){var g="50%",y="50%",m="z"in l?" "+l.z+"px":"";"x"in l&&(g=/%/.test(l.x)?l.x:l.x+"px"),"y"in l&&(y=/%/.test(l.y)?l.y:l.y+"px"),t.style.transformOrigin=g+" "+y+m}if(u&&(i.transform.scale=e?u:1,o.transform.scale=e?1:u),s){var v=e&&s.x?s.x:0,x=s.x&&!e?s.x:0,E=e&&s.y?s.y:0,O=s.y&&!e?s.y:0,b=e&&s.z?s.z:0,I=s.z&&!e?s.z:0;i.transform.translate3d=[v,E,b],o.transform.translate3d=[x,O,I]}if(c){var T=e&&c.x?c.x:0,_=!e&&c.x?c.x:0,w=e&&c.y?c.y:0,k=!e&&c.y?c.y:0,j=e&&c.z?c.z:0,M=!e&&c.z?c.z:0;i.transform.rotate3d=[T,w,j],o.transform.rotate3d=[_,k,M]}return f||c||s||u||(d=50,p=0),V.fromTo(t,i,o,{easing:h,duration:d,delay:p})},V.reset=function(t){Array.from(t.getElementsByClassName("spicr-layer")).forEach((function(t){t.style.opacity="",t.style.transform="",t.style.transformOrigin=""}))},V.slides=function(t,e,n,a,r,i,o){var s=[],c=function(t,e){var n,a,r=(n=t,a={},["translate","rotate","scale","transform-origin","opacity","duration","delay","easing","axis"].forEach((function(t){a["transform-origin"===t?"origin":t]=n.getAttribute("data-"+t)})),a),i=r.translate,o=r.rotate,s=r.origin,c=r.opacity,u=r.easing,l=r.axis,f=r.scale,d=r.duration,h=r.delay;return f=parseFloat(f),d=+d,h=+h,{axis:l,translate:i?W(e,i):"",rotate:o?W(t,o):"",origin:s?W(t,s,1):"",scale:Number.isNaN(f)?"":f,opacity:"false"!==c?1:0,duration:Number.isNaN(d)?G.duration:d,delay:Number.isNaN(h)?0:h,easing:u||G.easing}}(t,e[n]),u=e[n],l=c.translate,f=(t.getAttribute("data-transform-origin"),c.easing),d=c.duration||G.duration,h={},p={},g=getComputedStyle(u).getPropertyValue("transform"),y=new DOMMatrixReadOnly(g),m={X:y.m41,Y:y.m42,Z:y.m43};if(console.log("activeTranslate",m),l){console.log("elem translate",l),h.transform={},p.transform={},h.transform.translate3d=[m.X,m.Y,m.Z];var v=0,x=0,E=0;"x"in l&&("x"===i&&(l.x+=o),v=r?-l.x:l.x),"y"in l&&("y"===i&&(l.y+=o),x=r?-l.y:l.y),"z"in l&&("z"===i&&(l.z+=o),E=r?-l.z:l.z),console.log("elem translate after direction",l);var O=v+m.X,b=x+m.Y,I=E+m.Z;p.transform.translate3d=[O,b,I],console.log("fromTo",h.transform,p.transform),Array.from(e).forEach((function(t,e){s.push(V.fromTo(t,h,p,{easing:f,duration:d}))}))}return s},et.initComponent=at,document.body?at():document.addEventListener("DOMContentLoaded",at,{once:!0});return et.Version="1.0.10",et}));
